<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="utf-8" />
  <title>07 - VPN Techniken</title>
  <link href="Icon.ico" rel="icon" type="image/x-icon" />
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <button class="mode-toggle" onclick="toggleMode()">üåô Dunkelmodus</button>
  <div class="page-wrapper">
    <aside class="sidebar" aria-label="Inhaltsverzeichnis">
      <h2>Inhaltsverzeichnis</h2>
      <nav class="sidebar-nav">
        <a href="#warum-vpn-wichtig">Warum VPN wichtig ist</a>
        <a href="#ssl-vpn">SSL-VPN</a>
        <a href="#ip-sec-vpn">IPsec-VPN</a>
        <a href="#informationen_aufbau_ipsec">Informationen Aufbau IPsec-Site-to-Site-Tunnel</a>
        <a href="#watchguard_konfig_verstehen">Die WatchGuard-Konfiguartion verstehen</a>
        <a href="#unterschied_phase1_phase2">Unterschied zwischen Phase 1 und Phase 2</a>
        <a href="#bovpn-tunnel_vs_bovpn-vif">BOVPN-Tunnel vs. BOVPN-VIF auf WatchGuard</a>
        <a href="#wann_welche_variante">Wann verwendet man welche Variante?</a>
        <a href="#ssl-vpn_vs_ipsec-vpn">SSL-VPN vs. IPsec-VPN ‚Äì Hauptunterschiede in der Praxis</a>
        <a href="#automatisch_runterfahren_ausfall">Automatisches Herunterfahren bei Stromausfall</a>
        <a href="#zusammenfassung">Zusammenfassung</a>
      </nav>
    </aside>
    <main class="main-column">
      <header class="page-header">
        <h1>07 - VPN Techniken (Mobile User und Site-to-Site)</h1>
      </header>
    <section class="content-section" id="warum-vpn-wichtig">
        <h2>1. Warum VPN √ºberhaupt wichtig ist</h2>
        <p>Ein VPN ("Virtual Private Network") wird immer dann gebraucht, wenn Daten √ºber unsichere Netzwerke wie das Internet √ºbertragen werden m√ºssen. Ohne VPN w√§re ein Zugriff aus dem Homeoffice so, als w√ºrdest du mit einem Megafon sensible Informationen √ºber die Stra√üe rufen: Jeder k√∂nnte mith√∂ren.</p>
        <p>Ein VPN l√∂st dieses Problem, indem es einen <b>verschl√ºsselten Tunnel</b> baut. Innerhalb dieses Tunnels k√∂nnen Daten sicher √ºbertragen werden, so als w√ºrde man durch eine abgeschirmte Glasr√∂hre quer durchs Internet reisen - und niemand kann seitlich hineinsehen.</p>
        <p>Man unterscheidet dabei grunds√§tzlich zwei gro√üe Arten von VPN-Verbindungen:</p>
        <ul>
            <li><b>Mobile-User-VPNs</b><br>
            Ein einzelner Benutzer verbindet sich von au√üen (z. B. von Zuhause) in das Firmennetz.</li>
            <li><b>Site-to-Site-VPNs</b><br>
            Zwei Standorte - zum Beispiel die Hauptstelle und ein Au√üenlager - werden dauerhaft miteinander verbunden, sodass sie sich verhalten, als w√§ren sie lokal im selben Netzwerk.</li>
        </ul>
        <p>Beide Varianten folgen denselben Zielen:<br>
        Vertrauensw√ºrdigkeit, Integrit√§t, Authentizit√§t und ein m√∂glichst st√∂rungsfreier Zugriff.</p>
    </section>
    <section class="content-section" id="ssl-vpn">
      <h2>2. SSL-VPN (Mobile User)</h2>
      <h3>2.1 Wie ein SSL-VPN grunds√§tzlich funktioniert</h3>
      <p>Ein SSL-VPN nutzt dieselben Mechanismen wie HTTPS.<br>
      Statt einen speziellen VPN-Port zu verwenden, l√§uft der Tunnel √ºber Port <strong>443</strong>, also genau dort, wo auch Webbrowser kommunizieren. Dadurch sind SSL-VPNs extrem kompatibel, selbst in streng abgesicherten WLANs oder Firmennetzen.</p>
      <p>Technisch l√§uft ein SSL-VPN auf einer h√∂heren Netzwerkebene (Layer 5-7). Der Tunnel wird oft √ºber eine Art Webportal oder Client initialisiert, der dann die Daten in sichere, TLS-verschl√ºsselte Pakete verpackt.</p>
      <p>Man kann sich das wie eine Art "VPN im Browser-Kost√ºm" vorstellen:<br>
      Die Verbindung f√ºhlt sich an wie ein normaler HTTPS-Dialog, ist aber in Wahrheit ein sicherer Netzwerkzugang.</p>
      <hr class="trennlinie">
      <h3>2.2 Unterschied zum IPsec-VPN f√ºr Mobile User</h3>
      <p>Auch wenn beide das gleiche Ziel haben, unterscheiden sie sich im Kern:</p>
      <b>SSL-VPN</b>
      <ul>
        <li>Ideal f√ºr Homeoffice</li>
        <li>Funktioniert fast immer, selbst hinter NAT, Hotel-WLANs und Firmen-Proxys</li>
        <li>Einfach einzurichten</li>
        <li>Gut bei wenigen Applikationen oder gezielten Freigaben</li>
      </ul>
      <b>IPsec-VPN (Clientbasiert)</b>
      <ul>
        <li>Greift tief in das Netzwerkmodell ein (Layer 3)</li>
        <li>Bietet echte Routen und vollst√§ndige Netzwerkverbindung</li>
        <li>Schnell, stabil, aber schwieriger einzurichten</li>
        <li>NAT-Empfindlichkeit kann Probleme machen</li>
      </ul>
      <p>Wenn ein Kunde eine L√∂sung m√∂chte, die "immer irgendwo funktioniert", sollte man SSL-VPN w√§hlen.<br>
      Wenn volle Standortintegration ben√∂tigt wird, ist IPsec das Mittel der Wahl.</p>
      <hr class="trennlinie">
      <h3>2.3 SSL-VPN auf einer WatchGuard einrichten</h3>
      <ol class="fette-zahlen">
        <li><span><b>SSL-VPN auf der WatchGuard aktivieren</b><br>
        Dabei muss definiert werden, welche Benutzer sich anmelden d√ºrfen.</span></li>
        <li><span><b>Benutzer lokal anlegen</b><br>
        Die Authentifizierung nutzt selten Active Directory - meist reicht ein lokales Konto</span></li>
        <li><span><b>Client installieren und anmelden</b><br>
        Ziel: Die Verbindung soll "green" werden.</span></li>
        <li><span><b>Zugriff einschr√§nken</b><br>
        Beispiel:<br>
        Der Benutzer soll nur per RDP (Port 3389) auf eine einzelne interne IP zugreifen d√ºrfen.<br>
        Dies zwingt dich dazu, eine spezifische Firewallregeln zu bauen.</span></li>
        <li><span><b>Analyse der Firewall-Logs</b><br>
        <ul>
          <li>Tunnel etabliert?</li>
          <li>Authentifizierung erfolgreich?</li>
          <li>Welche IP hat der Benutzer erhalten?</li>
          <li>Welche Regeln griffen beim Zugriff?</li>
        </ul></span></li>
      </ol>
    </section>
    <section class="content-section" id="ip-sec-vpn">
      <h2>3. IPsec-VPN</h2>
      <p>IPsec ist im Vergleich zu SSL-VPN technisch deutlich komplexer.<br>
      Der gro√üe Vorteil: Es ist das weltweit etablierte Standardverfahren f√ºr professionelle Standortvernetzung.</p>
      <p>Damit ein Tunnel funktioniert, m√ºssen beide Seiten sich exakt auf dieselben technischen Parameter einigen - wie zwei Menschen, die nur dann miteinander reden k√∂nnen, wenn sie dieselbe Sprache, denselben Dialekt, denselben Wortschatz und dieselbe Grammatik benutzen.</p>
    </section>
    <section class="content-section" id="informationen_aufbau_ipsec">
      <h2>4. Welche Informationen ben√∂tigt man zum Aufbau eines IPsec-Site-to-Site-Tunnels?</h2>
      <p>Damit zwei Firewalls einen Tunnel aufbauen k√∂nnen, m√ºssen folgende Informationen √ºbereinstimmen:</p>
      <ul>
        <li><b>√ñffentliche IP-Adresse</b> der Gegenstelle</li>
        <li><b>Lokales Subnetz</b> (z. B. 192.168.1.0/24)</li>
        <li><b>Entferntes Subnetz</b> (z. B. 192.168.2.0/24)</li>
        <li><b>Pre-Shared Key (PSK)</b> - das gemeinsame VPN-Passwort</li>
        <li><b>IKE-Version</b> (IKEv1 oder IKEv2)</li>
        <li><b>Proposals</b> (Verschl√ºsselung & Hashing: AES-256, SHA-256)</li>
        <li><b>Diffie-Hellman-Gruppe</b> f√ºr sicheren Schl√ºsselaustausch</li>
        <li><b>SA-Lifetime</b> - wie lange ein Schl√ºssel g√ºltig bleibt</li>
        <li><b>Tunnelmodus</b> (bei Site-to-Site immer "Tunnel Mode")</li>
      </ul>
      <p>Wenn auch nur eine einzige Angabe nicht exakt passt, kommt kein Tunnel zustande.</p>
    </section>
    <section class="content-section" id="watchguard_konfig_verstehen">
      <h2>5. Die WatchGuard-Konfiguration verstehen</h2>
      <p>WatchGuard ist sehr logisch aufgebaut und zeigt technisch sauber an, was in den einzelnen IPsec-Phasen passiert.</p>
      <h3>Wichtigste Parameter und ihre Bedeutung</h3>
      <b>Verschl√ºsselungsalgorithmus (Encryption)</b>
      <p>Gibt an, wie die Nutzdaten gesch√ºtzt werden.<br>
      Typisch: AES-128 oder AES-256.</p>
      <b>Hash-Algorithmus (Integrity)</b>
      <p>Sch√ºtzt vor Manipulation.<br>
      Typisch: SHA-256.</p>
      <b>Diffie-Hellman-Gruppe</b>
      <p>Regelt, wie der gemeinsame Schl√ºssel sicher ausgetauscht wird.<br>
      Eine h√∂here Gruppe bedeutet mehr Sicherheit, aber auch mehr CPU-Last.</p>
      <b>SA-Lebensdauer (Lifetime)</b>
      <p>Bestimmt, wann IPsec neue Schl√ºssel generiert.<br>
      Wert von 28.800 Sekunden ist g√§ngig.</p>
    </section>
    <section class="content-section" id="unterschied_phase1_phase2">
      <h2>6. Unterschied zwischen Phase 1 und Phase 2</h2>
      <p>IPsec besteht aus zwei hintereinander geschalteten "Verhandlungsphasen".</p>
      <h3>6.1 Phase 1 - Authentifizierung & sicherer Kanal</h3>
      <b>Die Ger√§te pr√ºfen:</b>
      <ul>
        <li>Kennwort / PSK</li>
        <li>Identit√§ten</li>
        <li>DH-Gruppe</li>
        <li>Verschl√ºsselungsst√§rken</li>
      </ul>
      <p>Danach steht ein sicherer Kommunikationskanal, √ºber den die Details des eigentlichen Tunnels ausgehandelt werden k√∂nnen.</p>
      <hr class="trennlinie">
      <h3>6.2 Phase 2 - Der eigentliche VPN-Tunnel</h3>
      <b>Hier wird festgelegt:</b>
      <ul>
        <li>welche Netzwerke miteinander kommunizieren d√ºrfen</li>
        <li>welche Verschl√ºsselung verwendet wird</li>
        <li>wie Routing funktioniert</li>
      </ul>
      <p>Merksatz:<br>
      <b>Phase 1 = Sicherheit | Phase 2 = Datenverkehr</b></p>
    </section>
    <section class="content-section" id="bovpn-tunnel_vs_bovpn-vif">
      <h2>7. BOVPN-Tunnel vs. BOVPN-VIF auf WatchGuard</h2>
      <p>Die WatchGuard bietet zwei sehr unterschiedliche Bauarten f√ºr IPsec-Tunnel.</p>
      <h3>7.1 BOVPN-Tunnel (klassisch)</h3>
      <ul>
        <li>starre Zuordnung zwischen zwei Netzen</li>
        <li>keine dynamischen Routen</li>
        <li>einfache Konfiguration</li>
        <li>ideal f√ºr kleine, einfache Vernetzungen</li>
      </ul>
      <hr class="trennlinie">
      <h3>7.2 BOVPN-VIF (Virtual Interface)</h3>
      <ul>
        <li>der Tunnel erscheint wie ein eigenes Netzwerk-Interface</li>
        <li>unterst√ºtzt dynamisches Routing (OSPF, BGP)</li>
        <li>perfekt f√ºr komplexere oder skalierbare Umgebungen</li>
        <li>geeignet f√ºr mehrere Subnetze pro Tunnel</li>
      </ul>
      <p>Praktischer Merksatz:<br>
      <b>BOVPN-Tunnel = simpel</b><br>
      <b>BOVPN-VIF = modern, flexibel, professionell</b></p>
    </section>
    <section class="content-section" id="wann_welche_variante">
      <h2>8. Wann verwendet man welche Variante?</h2>
      <table>
        <thead>
          <tr>
            <th>Situation</th>
            <th>Empfehlung</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>kleiner Standort, einfache Verbindung</td>
            <td>klassischer BOVPN-Tunnel</td>
          </tr>
          <tr>
            <td>mehrere VLANs, dynamisches Routing</td>
            <td>VIF-Tunnel</td>
          </tr>
          <tr>
            <td>redundante Leitungen</td>
            <td>VIF-Tunnel</td>
          </tr>
          <tr>
            <td>kleine Au√üenstellen</td>
            <td>klassischer Tunnel</td>
          </tr>
        </tbody>
      </table>
    </section>
    <section class="content-section" id="ssl-vpn_vs_ipsec-vpn">
      <h2>9. SSL-VPN vs. IPsec-VPN - Hauptunterschiede in der Praxis</h2>
      <h3>SSL-VPN</h3>
      <ul>
        <li><strong>Wird genutzt, wenn:</strong></li>
        <li>Benutzer flexibel von √ºberall arbeiten sollen</li>
        <li>Hotels / √∂ffentliche WLANs eine Rolle spielen</li>
        <li>weniger Aufwand gew√ºnscht ist</li>
        <li>nur einzelne Dienste (z. B. RDP) freigegeben werden sollen</li>
      </ul>
      <br>
      <h3>IPsec-VPN</h3>
      <ul>
        <li><strong>Wird genutzt, wenn:</strong></li>
        <li>zwei Standorte dauerhaft gekoppelt werden sollen</li>
        <li>Performance wichtig ist</li>
        <li>vollst√§ndige Routing-Integration notwendig ist</li>
        <li>mehrere Subnetze verbunden werden m√ºssen</li>
      </ul>
    </section>
    <section class="content-section" id="automatisch_runterfahren_ausfall">
      <h2>10. Automatisches Herunterfahren bei Stromausfall</h2>
      <p>Der praktische Ablauf:</p>
      <ol class="fette-zahlen">
        <li><span>APC-USV per USB oder Netzwerk anschlie√üen</span></li>
        <li><span>PowerChute installieren</span></li>
        <li><span>Software erkennt die USV und zeigt Statuswerte an</span></li>
        <li><span>Ereignis definieren:</span><br>
        <b>"Wenn Batterie unter x% f√§llt ‚ü∂ Rechner sauber herunterfahren"</b></li>
        <li><span>Test durchf√ºhren ("Strom ziehen")</span></li>
      </ol>
      <p><strong>Warum ist das Teil der Ausbildung?</strong><br>
      Weil in der Praxis Server und Firewalls bei Stromausfall kontrolliert herunterfahren m√ºssen - sonst drohen Datenkorruption und Hardwarefehler.</p>
    </section>
    <section class="content-section" id="zusammenfassung">
      <h2>11. Zusammenfassung</h2>
      <ul>
        <li><b>SSL-VPN</b> = flexibel, √ºberall nutzbar, perfekt f√ºr Mobile User</li>
        <li><b>IPsec-VPN</b> = Profi-VPN f√ºr Standort-Kopplung</li>
        <li><b>Phase 1</b> = Authentifizierung</li>
        <li><b>Phase 2</b> = Tunnel / Netze</li>
        <li><b>BOVPN-VIF</b> = Interface-Modell f√ºr dynamische und moderne Umgebungen</li>
        <li><b>BOVPN-Tunnel</b> = klassisch und einfach</li>
        <li>F√ºr IPsec braucht man immer:<br>
        <b>Public IP, Subnetze, PSK, Algorithmen, DH-Gruppe, SA-Lifetime, Tunnel-Mode</b></li>
      </ul>
    </section>
      <div class="bottom-links">
        <a href="Ausbildungsthemen.html" class="back-link">‚üµ Zur√ºck zum Inhaltsverzeichnis</a>
        <a href="06 - USV.html" target="_blank" class="back-link">‚üµ Zur√ºck zu 06 - USV</a>
        <a href="08 - Telefonie.html" target="_blank" class="back-link">08 - Telefonie ‚ü∂</a>
      </div>
    </main>
    <aside class="right-column">
      <div class="logo-stack">
        <a class="logo-card" href="https://www.teccle-group.de" target="_blank" rel="noopener">
          <img id="teccle-logo" src="TeccleLogo.png" alt="Teccle Group Logo" />
        </a>
        <span class="logo-divider" aria-hidden="true"></span>
        <a class="logo-card" href="https://www.netzplan.de" target="_blank" rel="noopener">
          <img src="NetzplanLogo.png" alt="Netzplan Logo" />
        </a>
      </div>
      <div class="info-box">
        <strong>Mehr entdecken</strong>
        Direkt zu Support, Dokumentation oder zur√ºck zur √úbersicht.
        <div class="info-links">
          <a href="mailto:support@teccle-group.de">Support kontaktieren</a>
          <br>
          <a href="https://www.netzplan.de" target="_blank" rel="noopener">Dokumentation</a>
          <br>
          <a href="Ausbildungsthemen.html">Zur √úbersicht</a>
        </div>
      </div>
    </aside>
  </div>
  
  <script>
    function setLogoByMode() {
      const logo = document.getElementById('teccle-logo');
      if (document.body.classList.contains('dark')) {
        logo.src = 'TeccleLogoBlack.png';
      } else {
        logo.src = 'TeccleLogo.png';
      }
    }
    function toggleMode() {
      document.body.classList.toggle('dark');
      const btn = document.querySelector('.mode-toggle');
      if (document.body.classList.contains('dark')) {
        btn.textContent = '‚òÄÔ∏è Hellmodus';
      } else {
        btn.textContent = 'üåô Dunkelmodus';
      }
      setLogoByMode();
    }
    window.addEventListener('DOMContentLoaded', setLogoByMode);
  </script>
</body>

</html>