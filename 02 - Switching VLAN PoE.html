<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>02 - Switching / VLAN / PoE</title>
    <link rel="icon" type="image/x-icon" href="Icon.ico">
    <style>
        body {
            background-color: #000000f4;
            color: #fff;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 1000px;
            margin: 40px auto;
            background: #181818;
            border-radius: 16px;
            box-shadow: 0 4px 24px rgb(167, 0, 0);
            padding: 32px 34px;
        }
        header {
            background: linear-gradient(90deg, #000000 0%, #4f0098 100%);
            color: #bcabd5;
            padding: 24px 0 16px 0;
            border-radius: 16px 16px 0 0;
            text-align: center;
            margin-bottom: 24px;
            text-shadow: 0 0 1px #000000, 0 0 2px #000000;
        }
        h1 {
            margin: 0;
            font-size: 2em;
            letter-spacing: 2px;
        }
        .section-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-top: 32px;
            margin-bottom: 12px;
            color: #a962ff;
            text-shadow: 0 0 1px #000000, 0 0 2px #000000;
        }
        p {
            margin-bottom: 16px;
            line-height: 1.6;
        }
        table td, table th {
            padding-top: 10px;
            padding-bottom: 10px;
            line-height: 1.25;
        }
        table td:first-child {
            padding-right: 32px;
        }
        table td:nth-child(2) {
            padding-right: 32px;
        }
        ul {
            margin-bottom: 24px;
        }
        li {
            margin-bottom: 8px;
        }
        a {
            color: #00ffcc;
            text-decoration: underline;
            font-weight: bold;
            transition: color 0.2s;
        }
        a:visited {
            color: #7b00ff;
        }
        a:hover {
            color: #ff0066;
        }
        .back-link {
            display: inline-block;
            margin-top: 24px;
            color: #a962ff;
            background: #1a1a1a;
            padding: 8px 16px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            transition: background 0.2s, color 0.2s;
            text-shadow: 0 0 1px #000000, 0 0 2px #000000;
        }
        .back-link:hover {
            background: #000000;
            color: #6e00e4;
        }
        @media (max-width: 800px) {
            .container {
                max-width: 98vw;
                padding: 12px 6vw;
            }
            header {
                font-size: 1em;
                padding: 16px 0 8px 0;
            }
        }
        .trennlinie {
            border: none;
            border-top: 2px solid #a962ffb7;
            margin: 24px 0;
            opacity: 0.5;
            border-radius: 2px;
        }
        ul, ul ul {
            list-style-type: disc;
        }
        ul li::marker {
            color: #fff;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>02 - Switching / VLAN / PoE</h1>
        </header>
        <div class="section-title">1. Wie funktioniert ein Switch?</div>
        <p>Ein Switch arbeitet auf OSI-Layer 2 (Sichtungsschicht) und nimmt Ethernet-Frames entgegen, liest die Layer-2-Informationen (vor allem MAC-Adressen) und entscheidet daraufhin zielgerichtet, an welcem Port ein Frame weitergeleitet werden muss. Anders als ein alter Hub, der empfangene Signale an alle Ports verteilt, versucht ein Switch, den Verkehr nur an jene Ports zu schicken, an denen das Zielgerät angeschlossen ist - dadurch wird das Netz effizienter und die Kollisionen werden drastisch reduziert.</p>
        <p>Die Arbeitsweise des Switches basiert im Kern auf einer MAC-Adress-Tabelle (auch CAM-Table genannt). immer wenn ein Frame ankommt, merkt sich der Switch die Quell-MAC und den Port, an dem das Frame eingetrofffen ist - also eine Zuordnung "Quell-MAC &#8594; Port". Beim Senden sucht er die Ziel-MAC in dieser Tabelle: findet er einen Eintrag, schickt er das Frame nur an den entsprechenden Port; findet er die Ziel-MAC nicht, spricht man von unknown unicast und der Switch flutet das Frame an alle Ports innerhalb der gleichen VLAN-Domäne (außer dem Eingangsport).</p>
        <p>Einträge in der MAC-Tabelle sind nicht permanent: sie haben ein Aging-Intervall (typisch einige Minuten, häufig ~300 s), damit Umstecken/Neuanordnungen erkannt werden und die Tabelle aktuell bleibt. Bei Broadcast-Frames (z. B. ARP-Requests an FF:FF:FF:FF:FF:FF) sendet der Switch das Frame an alle Ports eines VLANs; bei Multicast wird das Verhalten davon bestimmt, ob IGMP-Snooping aktiv ist - ohne IGMP-Snooping wird geflutet, mit IGMP-Snooping werden Multicast-Frames nur an Ports geschickt, an denen Hosts Mitglieder der Multicast-Gruppe sind.</p>
        <p>Jeder Switch-Port stellt eine eigene Collision Domain dar; in moderneren Netzwerken arbeiten Ports im Full-Duplex, deshalb treten Kollisionen praktisch nicht mehr auf. Um jedoch physikalische Schleifen (Layer 2 Loops) zu verhindern, nutzen Netzwerke Spanning-Tree-Mechanismen (STP / RSTP / MSTP), die redundante Pfade erkennen und temporär blockieren, damit es nicht zu Broadcast-Stürmen kommt.</p>
        <p>Kurz gesagt: ein Switch leitet Unicast zielgerichtet, Broadcast an alle Geräte im VLAN und Multicast abhängig von Multicast abhängig von IGMP-Snooping.</p>
        <hr class="trennlinie">
        <h1>2. Wofür benutzt ein Switch MAC-Adressen?</h1>
        <p>MAC-Adressen sind für einen Switch die grundlegende Information zur Identifikation von Endgeräten. Er nutzt MAC-Adressen in mehreren Rollen:</p>
        <ul>
            <li><b>Lernen (Source MAC):</b> Jedes ankommende Frame liefert die Quell-MAC, die der Switch in seine Tabelle schreibt, damit er künftig weiß, an welchem Port dieses Gerät erreichbar ist.</li>
            <br>
            <li><b>Forwarding (Destination MAC):</b> Wenn ein Frame ankommt, entscheidet die Ziel-MAC, an welchen Port das Frame weitergeleitet wird.</li>
            <br>
            <li><b>Sicherheit & Zusammenfunktionen:</b> MAC-Adressen werden auch bei Sicherheitsmechanismen verwendet, etwa bei port-security (maximal erlaubte Anzahl an MACs pro Port, sticky MACs), bei MAC-based Access-Control oder als Teil von 802.1X-Zugangssteuerungen; außerdem können sie für dynamische VLAN-Zuweisung (z. B. via RADIUS) herangezogen werden.</li>
        </ul>
        <p>Wichtig: MAC-basierte Sicherheitsmechanismen sind praktisch, ersetzen aber nicht eine ordentliche Authentifizierung (z. B. 802.1X + RADIUS), denn MAC-Adressen lassen sich fälschen.</p>
        <hr class="trennlinie">
        <h1>3. Wer sieht welche Pakete im Netzwerk?</h1>
        <p>Die Sicherheit von Packeten hängt von deren Typ ab:</p>
        <ul>
            <li><b>Unicast:</b> In einem normalen L2-Switch-Netzwerk erreicht ein Unicast-Frame nur den Absender- und den Zielport. Andere Geräte sehen dieses Frame nicht - es sei denn, es wurde Port-Mirroring (SPAN) aktiviert oder ein Netzwerk-Tap eingesetzt.</li>
            <br>
            <li><b>Broadcast:</b> Broadcast-Frames werden an alle Ports innerhalb derselben VLAN-Domain gesendet; sie sind also für alle Teilnehmer dieses VLANs sichtbar.</li>
            <br>
            <li><b>Multicast:</b> Wenn IGMP-Snooping deaktiviert ist, werden Multicast-Frames wie Broadcasts geflutet. Mit IGMP-Snooping erkennt der Switch, welche Ports Multicast-Interest angemeldet haben, und leitet die Frames nur an diese Ports weiter; dadurch reduziert sich unnötiger Traffic. (Mehr dazu weiter unten.)</li>
            <br>
            <li><b>Monitoring:</b> Für Analysezwecke oder IDS kann man gezielt Ports spiegeln (Port-Mirroring / SPAN) oder ein SPAN/ERSPAN einrichten, damit ein Analysehost alles oder selektierten Verkehr sieht.</li>
        </ul>
        <p>(IGMP-Snooping und dessen Wirkung: siehe Quelle unten.)</p>
        <hr class="trennlinie">
        <h1>4. PoE - worauf achten? (Standards, Aushandlung, Budget)</h1>
        <p><b>Power over Ethernet (PoE)</b> erlaubt es, über das Standard-Ethernet-Kabel sowohl Daten als auch Strom zu transportieren. Dafür gibt es offizielle IEEE-Standards mit verschiedenen Leistungsstufen:</p>
        <ul>
            <li><b>IEEE 801.2af (Type 1 /PoE):</b> Der Power-Sourcing-Equipment (PSE, z. B. Switch) liefertbis zu 15,4 W an der Schnittstelle; durch Verlust in der Leitung kommen typischerweise ~12,95 W beim Powered Device (PD) an.</li>
            <br>
            <li><b>IEEE 802.3at (Type 2 /PoE+):</b> erhöht die Leistung auf bis zu 30 W PSE-Seite, davon sind beim PD ~25,5 W nutzbar.</li>
            <br>
            <li><b>IEEE 802.3bt (Type 3 und Type 4 /PoE++ /Hi-PoE):</b> Type 3 kann bis zu 60 W an der PSE liefern und liefert typischerweise ~51 W an das PD; Type 4 geht bis zu 100 W am PSE und liefert je nach Klasse ~71 W an das PD. Diese höheren Klassen nutzen vier Adernpaare (4-pair PoE) und werden für leistungsintensive Geräte wie High-End-Access-Points oder PTZ-Kammeras genutzt.</li>
        </ul>
        <p>PoE arbeitet mit einer Erkennungs- und Klassifizierungsphase: der PSE detektiert per Signatur (z. B. Wiederstand) zunächst, ob ein PD angeschlossen ist, und kann dann eine Leistungsklasse austauschen oder per LLDP/LLDP-MED weiter feinjustieren (z. B. Zuordnung zu einem Voice-VLAN oder Tailoring des Leistungsbedarfs). Da der Gesamtstrom eines Switches begrenzt ist, musst du beim Design das PoE-Budget des Switches beachten: die Summe der benötigten Watt aller PDs darf das verfügbare Budget nicht überschreiten - sonst musst du Prioritäten oder Power-Management konfigurieren.</p>
        <p>Weitere wichtige Punkte:</p>
        <ul>
            <li>Für 10/100 Mbit/s wird PoE über zwei Paare (Mode A oder Mode B) realisiert; für Gigabit und schneller werden alle vier Paare benutzt (4-pair / Phantom-Speisung).</li>
            <br>
            <li><b>Passive PoE</b> (feste Spannung, kein IEEE-Negotiation) ist nicht standardkonform und kann Geräte beschädigen, wenn diese nicht explizit dafür ausgelegt sind.</li>
            <br>
            <li>Die Versorgungsspannung liegt typischerweise im Bereich von ~44-57 V (nominal ~48 V), abhängig vom Standard bzw. der Implementierung.</li>
            <p>(Quellen für PoE-Leistungswerte und Klassentabelle siehe unten.)</p>
        </ul>
        <h1>5. Wie bekommen Geräte Strom - Varianten im Überblick</h1>
        <p>Es gibt drei gängige Varianten, wie Geräte mit PoE versorgt werden:</p>
        <ul>
            <li><b>PoE-Switch (Endspan):</b> Der Switch selbst ist die Stromquelle und speist über die Ethernet-Kabel. Das ist die sauberste Lösung, weil Management/Monitoring/Power-Budget zentral zu Verfügung stehen.</li>
            <br>
            <li><b>PoE-Injector (Midspan):</b> Ein zwischengeschaltetes Gerät, das in bestehende Non-PoE-Leitungen PoE einspeist; praktisch, wenn der Switch kein PoE unterstützt.</li>
            <br>
            <li><b>Lokales Netzteil:</b> Wenn weder PoE noch Injector vorhanden sind, bekommt das Gerät ein eigenes Netzteil (z. B. Steckernetzteil). Das ist die einfachste, aber kabelintensivere Lösung.</li>
        </ul>
        <hr class="trennlinie">
        <h1>6. Verkabelungs-Voraussetzungen für PoE</h1>
        <p>Gute Verkabelung ist sehr wichtig, sonst entstehen Spannungsabfälle, Hitzeentwicklung oder Leistungsverluste, vor allem bei höheren PoE-Klassen:</p>
        <ul>
            <li><b>Kabelkategorie:</b> Mindestens Cat5e ist nötig</li>
            <br>
            <li><b>Längenlimit:</b> Das Ethernet-Limit beträgt 100 m total (typisch 90 m Permanent Link + 2 x 5 m Patchkabel). Bei hohen PoE-Leistungen ist der Spannungsabfall über diese Distanz einzukalkulieren.</li>
            <br>
            <li><b>Bündelung & Temperatur:</b> Viele verdrillte Paare in Bündeln erhöhen die Temperatur und damit den Leistungswiederstand: das kann die verfügbare Leistung reduzieren. Beachte Installationsnormen und Temperaturbegrenzungen, insbesondere bei 802.3bt.</li>
            <br>
            <li><b>Steckzyklen unter Last:</b> Beim Abziehen eines Kabels unter Last können Lichtbögen entstehen; verwende Hardware mit PoE-Rating und beachte Betriebsanweisungen.</li>
            <p>(Quelle zur Max-Länge: Standard-Angabe 100 m / 90 m Permanent Link.)</p>
        </ul>
        <hr class="trennlinie">
        <h1>7. Was bedeutet VLAN?</h1>
        <p><b>VLAN</b> steht für <i>Virtual Local Area Network</i> (IEEE 802.1Q) und erlaubt, ein physisches Netz logisch in mehrere seperate Broadcast-Domänen zu segmentieren. VLAN-Tagging fügt Ethernet-Frames eine 12-Bit VLAN-ID hinzu, so dass mehrere VLANs über denselben physischen Uplink transportiert werden können. Im Standard sind VLAN-IDs im Bereich <b>1-4094</b> verwendbar (0 und 4094 reserviert).</p>
        <p>Port-Typen, die du kennen solltest:</p>
        <ul>
            <li><b></b></li>
        </ul>
        <br>
        <hr class="trennlinie">
        <a href="01 - TCP IP Routing NAT.html" target="blank" class="back-link">&larr; Zurück zu 01 - TCP IP Routing NAT</a> 
        <br>
        <a href="Ausbildungsthemen.html" class="back-link">&lArr; Zurück zum Inhaltsverzeichnis</a>
    </div>
</body>
</html>