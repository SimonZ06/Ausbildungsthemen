<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>01 - TCP/IP, Routing, NAT</title>
    <link rel="icon" type="image/x-icon" href="Icon.ico">
    <style>
        :root {
      --bg: #8d8d8db9;
      --text: #2d2d2d;
      --container-bg: #ffffff;
      --header-bg: linear-gradient(90deg, #b46900f6, #d87e00);
      --header-text: #ffffff;
      --section-bg: #e2e2e2a0;
      --section-title: #000000;
      --section-title-bg: #cfcfcf54;
      --section-title-border: #F18E00;
      --h3: #cb6201cd;
      --trennlinie: #e0e7ef;
      --link: #d87e00;
      --link-hover: #ae6600;
      --back-link-bg: #9b948e40;
      --back-link: #e87000;
      --back-link-hover-bg: #ffffff;
      --back-link-hover: #e38101;
      --aside-bg: #e3e3e3;
      --aside-shadow: rgba(50, 58, 78, 0.556);
      --container-shadow: 0 2px 16px rgba(180,200,255,0.10);
      --sublist-color: #717171;
        }
      table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        font-size: 16px;
      }

      th, td {
        border: 1px solid #ccc;
        padding: 12px;
        text-align: left;
      }

      :root td {
        background-color: #f8f8f8e7;
      }

      :root th {
        background-color: #f5f5f5df;
      }
    body.dark {
      --bg: #424242e7;
      --text: #f3f3f3;
      --container-bg: #353535fc;
      --header-bg: linear-gradient(90deg, #b46900, #d87e00);
      --header-text: #ffffff;
      --section-bg: #414040b9;
      --section-title: #ffffff;
      --section-title-bg: #d05a004c;
      --section-title-border: #d87e00;
      --h3: #d87e00;
      --trennlinie: #44495a;
      --link: #d87e00;
      --link-hover: #ae6600;
      --back-link-bg: #9b948e40;
      --back-link: #e87000;
      --back-link-hover-bg: #c8c6c651;
      --back-link-hover: #e38101;
      --aside-bg: #453f3c53;
      --aside-shadow: rgba(60,60,80,0.12);
      --container-shadow: 0 2px 16px rgba(60,60,80,0.18);
      --sublist-color: #cccccc;
    }
    /* Logo oben links, immer sichtbar */
    .floating-logo {
      position: fixed;
      top: 24px;
      left: 24px;
      width: 80px;
      height: 80px;
      z-index: 101;
      background: rgba(255, 255, 255, 0.782);
      border-radius: 16px;
      box-shadow: 0 2px 8px var(--aside-shadow);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.3s, box-shadow 0.3s;
    }
    .floating-logo img {
      max-width: 65px;
      max-height: 65px;
      display: block;
      border-radius: 8px;
    }
    @media (max-width: 800px) {
      .floating-logo {
        top: 8px;
        left: 8px;
        width: 48px;
        height: 48px;
      }
      .floating-logo img {
        max-width: 38px;
        max-height: 38px;
      }
    }
    body.dark .floating-logo {
      background: rgba(40, 40, 40, 0.85);
    }
    body.dark table {
      color: #000000ff;
    }

    body.dark th, 
    body.dark td {
      border: 1px solid #555;
      padding: 12px;
      text-align: left;
    }

    body.dark th {
      background-color: #333;
      color: #ffcc66;
    }

    body.dark tr:nth-child(even) {
      background-color: #2a2a2a;
    }

    body.dark tr:nth-child(odd) {
      background-color: #1e1e1e;
    }
    body {
      background-color: var(--bg);
      color: var(--text);
      font-family: "Segoe UI", Arial, sans-serif;
      margin: 0;
      padding: 0;
      transition: background 0.3s, color 0.3s;
    }
    .container {
      max-width: 1000px;
      margin: 40px auto;
      background: var(--container-bg);
      border-radius: 16px;
      box-shadow: var(--container-shadow);
      padding: 36px;
      transition: background 0.3s;
    }
    header {
      background: var(--header-bg);
      color: var(--header-text);
      padding: 24px 0 16px 0;
      border-radius: 16px 16px 0 0;
      text-align: center;
      box-shadow: 0 2px 8px var(--aside-shadow);
      transition: background 0.3s, color 0.3s;
    }
    h1 {
      margin: 0;
      font-size: 2em;
      letter-spacing: 1px;
      color: #ea9319ff;
    }
    section {
      padding: 20px 24px;
      border-radius: 12px;
      box-shadow: 0 1px 6px rgba(0,0,0,0.08);
      margin-bottom: 28px;
      transition: background 0.3s;
      background: var(--section-bg);
    }
    .section-title {
      font-size: 1.4em;
      font-weight: 600;
      margin-top: 32px;
      margin-bottom: 12px;
      color: var(--section-title);
      border-left: 4px solid var(--section-title-border);
      padding-left: 8px;
      background: var(--section-title-bg);
      border-radius: 4px;
      transition: background 0.3s, color 0.3s;
    }
    p {
      margin-bottom: 16px;
      line-height: 1.9;
    }
    b {
        color: #df8d00ff;
        background: rgba(152, 152, 152, 0.084);
    }
    ul {
      margin-bottom: 24px;
      padding-left: 20px;
    }
    li {
      margin-bottom: 12px;
      line-height: 1.6;
    }
    ul ul {
      margin-top: 6px;
      margin-bottom: 12px;
      list-style-type: circle;
      color: var(--sublist-color);
    }
    h3 {
      margin-top: 20px;
      color: var(--h3);
    }
    .trennlinie {
      border: none;
      border-top: 1px solid var(--trennlinie);
      margin: 32px 0;
      transition: border-color 0.3s;
    }
    a {
      color: var(--link);
      text-decoration: none;
      font-weight: 600;
      transition: color 0.2s;
    }
    a:hover {
      color: var(--link-hover);
    }
    .back-link {
      display: inline-block;
      margin-top: 16px;
      background: var(--back-link-bg);
      color: var(--back-link);
      padding: 10px 18px;
      border-radius: 8px;
      font-weight: 600;
      text-decoration: none;
      transition: background 0.2s, color 0.2s;
      border: 1px solid var(--trennlinie);
    }
    .back-link:hover {
      background: var(--back-link-hover-bg);
      color: var(--back-link-hover);
    }
    aside {
      background: var(--aside-bg);
      border-radius: 8px;
      padding: 18px 24px;
      margin-top: 24px;
      box-shadow: 0 1px 4px var(--aside-shadow);
      transition: background 0.3s;
    }
    .mode-toggle {
      position: fixed;
      top: 24px;
      right: 24px;
      z-index: 100;
      background: #423c46af;
      color: var(--back-link);
      border: 1px solid var(--trennlinie);
      border-radius: 8px;
      padding: 10px 18px;
      font-size: 1em;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
    }
    .mode-toggle:hover {
      background: var(--back-link-hover-bg);
      color: var(--back-link-hover);
    }
    @media (max-width: 800px) {
      .container {
        max-width: 95%;
        padding: 16px;
      }
      h1 {
        font-size: 1.5em;
      }
      .mode-toggle {
        background: var(--back-link-bg);
        top: 8px;
        right: 8px;
        padding: 8px 12px;
      }
    }
    </style>
</head>
<body>
    <div class="floating-logo">
      <a href="Ausbildungsthemen.html" title="Zur √úbersicht">
        <img id="teccle-logo" src="TeccleLogo.png" alt="Teccle Logo" title="Teccle Group Logo">
      </a>
    </div>
    <button class="mode-toggle" onclick="toggleMode()">üåô Dunkelmodus</button>
    <div class="container">
        <main>
        <header>
            <h2>01 - TCP/IP, Routing, NAT (Einfach/Erweitert)</h2>
        </header>
        <section>
        <div class="section-title">1. Theoretische Grundlagen</div>
        <h1 class="section-title">Das Default Gateway</h1>
        <p>Ein Default Gateway ist das Ger√§t in einem Netzwerk, das Datenpakete aus dem lokalen Netz in andere Netze weiterleitet. In den allermeisten F√§llen √ºbernimmt der Router diese Rolle. Man kann sich das Gateway als "T√ºr zur Au√üenwelt" vorstellen: wenn ein Computer ein Ziel ansprechen m√∂chte, das nicht im eigenen Subnetz liegt, dann schickt er die Daten an das Standardgateway.</p>
        <p>Das Gateway entscheidet anhand seiner Routing-Tabelle, in welches andere Netz ein Paket weitergeleitet wird. Befindet sich das Ziel im gleichen Subnetz, erfolgt die Zustellung direkt (z. B. √ºber ARP). Der R√ºckweg funktioniert genauso: Antworten von au√üerhalb kommen am Gateway an und werden an das richtige Ger√§t im Heimnetz zur√ºckgeschickt.</p>
        <br>
        <b>Beispiel:</b>
        <ul>
            <li>PC: 192.168.1.100 m√∂chte google.de erreichen.</li>
            <li>Ziel liegt nicht im eigenen Subnetz &#8594; Paket geht an Default Gateway (192.168.1.1).</li>
            <li>Router leitet es ins Internet.</li>
            <li>Antwort von Google kommt zur√ºck &#8594; Router wei√ü, dass PC 192.168.1.100 der Absender war &#8594; Weiterleitung zur√ºck.</li>
        </ul>
        <b>Wichtigkeit des Default Gateways:</b>
        <ul>
            <li>Ohne Gateway &#8594; keine Kommunikation au√üerhalb des LAN.</li>
            <li>Es √ºbernimmt Routing-Entscheidungen f√ºr unbekannte Ziele.</li>
            <li>Oft ist es gleichzeitig ein Kontroll- und Sicherheitspunkt (z. B. Firewall im Router).</li>
        </ul>
        </section>

        <hr class="trennlinie">
        
        <section>
        <h1 class="section-title">NAT (Network Address Translation)</h1>
        <p>Da die Anzahl an IPv4-Adressen begrenzt ist, nutzt man NAT, um viele private IP-Adressen aus einem Heimnetz √ºber eine einzige √∂ffentliche IP-Adresse ins Internet zu bringen.</p>
        <p>Die Fritzbox setzt dazu PAT (Port Address Translation) ein. Dabei werden nicht nur die Adressen √ºbersetzt, sondern auch Portnummern genutzt, um verschiedene Verbindungen auseinanderzuhalten.</p>
        <br>
        <b>Beispiel FritzBox:</b>
        <ul>
            <li>Laptop: 192.168.178.20 &#8594; Anfrage an Google.</li>
            <li>FritzBox ersetzt die Absender-IP durch ihre √∂ffentliche Adresse, z. B. 93.123.45.67.
            <li>Sie merkt sich, dass die Anfrage von Laptop kam.</li>
            <li>Antwort von Google an 93.123.45.67 &#8594; FritzBox ordnet sie wieder 192.168.178.20 zu.</li>
        </ul>
        <b>Vorteile von NAT:</b>
        <ul>
            <li>Mehrere Ger√§te nutzen eine √∂ffentliche IP.</li>
            <li>Sicherheit: Ger√§te sind von au√üen nicht direkt sichtbar (kein Ersatz f√ºr eine Firewall, aber erschwert Angriffe).</li>
            <li>Flexibilit√§t durch Portfreigaben.</li>
        </ul>
        <b>Portfreigaben:</b>
        <ul>
            <li>Weiterleitung einzelner Ports auf ein Ger√§t im LAN.</li>
            <li>Beispiel: Minecraft-Server (Port 25565) &#8594; wird an PC 192.168.178.20 durchgereicht.</li>
        </ul>
        <b>Exposed Host:</b>
        <ul>
            <li>Alle Ports an ein Ger√§t weitergeleitet &#8594; unsicher, nur zu Testzwecken.</li>
        </ul>
        <b>IPv6:</b>
        <ul>
            <li>Jedes Ger√§t bekommt eine √∂ffentliche Adresse.</li>
            <li>Kein NAT n√∂tig &#8594; stattdessen √ºbernimmt die FritzBox Firewallfunktionen.</li>
            <li>(Hinweis: NAT66 existiert, wird aber kaum eingesetzt und in FritzBoxen nicht verwendet.)</li>
        </ul>
        </section>
        
        <hr class="trennlinie">
        
        <section>
        <div class="section-title">2. Praktische Umsetzung</div>
        <h1>TCP/IP-Konfiguration unter Windows</h1>
        <p>Unter Windows lassen sich IP-Adressen automatisch (per DHCP) oder manuell konfigurieren.</p>
        <b>Automatisch beziehen (DHCP):</b>
        <ul>
            <li>Der Rechner fragt beim Router nach einer Adresse.</li>
            <li>Typischer Fall im Heimnetz.</li>
        </ul>
        <b>Manuell eintragen (statische IP):</b>
        <ul>
            <li>N√ºtzlich bei Servern, VMs oder f√ºr Tests.</li>
            <li>Erforderliche Angaben:</li>
                <ul>
                    <li>IP-Adresse (z. B. 192.168.1.100)</li>
                    <li>Subnetzmaske (z. B. 255.255.255.0)</li>
                    <li>Standardgateway (meist Router, z. B. 192.168.1.1)</li>
                    <li>DNS-Server (z. B. 8.8.8.8 von Google oder 1.1.1.1 von Cloudflare)</li>
                </ul>
        </ul>
        <b>Wann verwendet man was?</b>
        <ul>
            <li>Heimnetz &#8594; DHCP.</li>
            <li>Server/VM &#8594; statische IP.</li>
            <li>Probleme mit Namensaufl√∂sung &#8594; DNS gezielt einstellen (besser zentral am Router/DHCP, statt auf jedem Client).</li>
        </ul>
        </section>
        
        <hr class="trennlinie">
        
        <section>
        <h1>Routing auf Windows-PC</h1>
        <p>Die Routen lassen sich mit <small style="font-family:'Courier New'">route print</small> anzeigen. Die Tabelle enth√§lt alle bekannten Wege zu Netzwerken.</p>
        <ul>
            <li> <b>Wichtige Eintr√§ge:</b> </li>
                <ul>
                    <li>0.0.0.0 &#8594; Standardroute = Default Gateway.</li>
                    <li>Subnetze wie 192.168.1.0 &#8594; direkte Verbindung.</li>
                </ul>
            <li> <b>Routen hinzuf√ºgen:</b> </li>
        </ul>
        <small style="font-family:'Courier New'">&nbsp; &nbsp; cmd</small>
        <small style="font-family:'Courier New'">&nbsp; &nbsp; route add 10.10.10.0 mask 255.255.255.0 192.168.1.1</small>
        <ul>
            <b><li>Routen l√∂schen:</li></b>
        </ul>
        <small style="font-family:'Courier New'">&nbsp; &nbsp; cmd</small>
        <small style="font-family:'Courier New'">&nbsp; &nbsp; route delete 10.10.10.0</small>
        <ul>
            <b><li>Standardgateway √§ndern</li></b>
        </ul>
        <small style="font-family:'Courier New'">&nbsp; &nbsp; cmd</small>
        <small style="font-family:'Courier New'">&nbsp; &nbsp; route delete 0.0.0.0</small>
        <small style="font-family:'Courier New'">&nbsp; &nbsp; route add 0.0.0.0 mask 0.0.0.0 192.168.2.1</small>
        <br>
        <br>
        <p>(Hinweis: Ohne <small style="font-family:'Courier New'">-p </small>sind diese √Ñnderungen nur bis zum Neustart g√ºltig. Dauerhaft ‚Üí <small style="font-family:'Courier New'">route -p add ...)</small></p>
        <p>Achtung: falsche Routen = keine Internetverbindung.</p>
        </section>
        
        <hr class="trennlinie">
        
        <section>
        <div class="section-title">3. NAT-Einstellungen auf der FritzBox</div>
        <p>Die FritzBox erledigt NAT automatisch. Anpassungen sind nur indirekt m√∂glich:</p>
        <ul>
            <li><b>Portfreigaben:</b> gezielte Weiterleitungen f√ºr bestimmte Dienste.</li>
            <li><b>Exposed Host:</b> Weiterleitung aller Ports an ein Ger√§t (unsicher).
            <li><b>IPv6:</b> entf√§llt, stattdessen Firewallregeln zur Steuerung.
            <li><b>NAT-Tabelle:</b> in einer FritzBox nicht sichtbar, nur indirekt √ºber Tools (z. B. Wireshark oder Router-Diagnosen).
        </ul>
        </section>
        
        <hr class="trennlinie">
        
        <section>
        <div class="section-title">4. Debugging-Tools in Windows</div>
        <p>Zur Fehleranalyse in Netzwerken gibt es eine Reihe n√ºtzlicher Befehle:</p>
        <table style="width:100%; border-collapse:collapse;">
            <thead>
                <tr>
                    <th style="text-align:left;">Tool</th>
                    <th style="text-align:left;">Zweck</th>
                    <th style="text-align:left;">Beispiel</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><small style="font-family:'Courier New'">ipconfig</small></td>
                    <td>Zeigt aktuelle IP, Gateway, DNS</td>
                    <td><small style="font-family:'Courier New'">ipconfig /all</small></td>
                </tr>
                <tr>
                    <td><small style="font-family:'Courier New'">ping</small></td>
                    <td>Pr√ºft Erreichbarkeit & Latenz</td>
                    <td><small style="font-family:'Courier New'">ping google.com</small></td>
                </tr>
                <tr>
                    <td><small style="font-family:'Courier New'">tracert</small></td>
                    <td>Zeigt den Weg der Pakete</td>
                    <td><small style="font-family:'Courier New'">tracert 8.8.8.8</small></td>
                </tr>
                <tr>
                    <td><small style="font-family:'Courier New'">nslookup</small></td>
                    <td>Testet DNS-Aufl√∂sung</td>
                    <td><small style="font-family:'Courier New'">nslookup google.com</small></td>
                </tr>
                <tr>
                    <td><small style="font-family:'Courier New'">netstat</small></td>
                    <td>Zeigt offene Ports & Verbindungen</td>
                    <td><small style="font-family:'Courier New'">netstat -ano</small></td>
                </tr>
                <tr>
                    <td><small style="font-family:'Courier New'">route</small></td>
                    <td>Zeigt/√§ndert Routingtabelle</td>
                    <td><small style="font-family:'Courier New'">route print</small></td>
                </tr>
                <tr>
                    <td><small style="font-family:'Courier New'">arp</small></td>
                    <td>Zeigt MAC ‚Üî IP-Zuordnungen</td>
                    <td><small style="font-family:'Courier New'">arp -a</small></td>
                </tr>
                <tr>
                    <td><small style="font-family:'Courier New'">pathping</small></td>
                    <td>Misst Latenz & Paketverluste pro Hop</td>
                    <td><small style="font-family:'Courier New'">pathping google.com</small></td>
                </tr>
                <tr>
                    <td><small style="font-family:'Courier New'">telnet</small></td>
                    <td>Testet Erreichbarkeit bestimmter Ports</td>
                    <td><small style="font-family:'Courier New'">telnet 192.168.178.1 80 (muss unter Windows 10/11 evtl. erst nachinstalliert werden)</small></td>
                </tr>
                <tr>
                    <td><small style="font-family:'Courier New'">netsh</small></td>
                    <td>Konfiguriert & repariert Netzwerk</td>
                    <td><small style="font-family:'Courier New'">netsh winsock reset</small></td>
                </tr>
            </tbody>
        </table>
        <br>
        <b>Praxis-Tipp:</b>
        <ul>
            <li>Beginne bei Problemen immer mit <small style="font-family:'Courier New'">ipconfig</small> und <small style="font-family:'Courier New'">ping</small>.</li>
            <li>Pr√ºfe mit <small style="font-family:'Courier New'">tracert</small>, wo die Verbindung abbricht.</li>
            <li>Nutze <small style="font-family:'Courier New'">nslookup</small>, wenn Websiten nicht laden, aber IPs erreichbar sind.</li>
            <li>Kontrolliere mit <small style="font-family:'Courier New'">netstat</small>, ob Ports blockiert oder belegt sind.</li>
        </ul>
        </section>
        
        <hr class="trennlinie">
        
        <aside>
        <b>Zusammenfassung</b>
        <p>Das <b>Default Gateway</b> ist die Schnittstelle zwischen lokalem Netz und Internet. NAT mit PAT auf der FritzBox sorgt daf√ºr, dass mehrere Ger√§te gleichzeitig √ºber eine √∂ffentliche IP-Adresse online sein k√∂nnen. Anpassungen an NAT machst du vor allem √ºber Portfreigaben. Unter Windows kannst du IPs statisch oder per DHCP konfigurieren, die Routingtabelle einsehen und mit zahlreichen Tools Verbindungsprobleme untersuchen.</p>
        </aside>
        
        <hr class="trennlinie">
        
        
        <a href="Ausbildungsthemen.html" class="back-link">&larr; Zur√ºck zum Inhaltsverzeichnis</a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="02 - Switching VLAN PoE.html" target="blank" class="back-link">02 - Switching / VLAN / PoE &#8594;</a>
        </main>
    </div>
    <script>
    function setLogoByMode() {
      const logo = document.getElementById('teccle-logo');
      if(document.body.classList.contains('dark')) {
        logo.src = 'TeccleLogoBlack.png';
      } else {
        logo.src = 'TeccleLogo.png';
      }
    }
    function toggleMode() {
      document.body.classList.toggle('dark');
      const btn = document.querySelector('.mode-toggle');
      if(document.body.classList.contains('dark')) {
        btn.textContent = '‚òÄÔ∏è Hellmodus';
      } else {
        btn.textContent = 'üåô Dunkelmodus';
      }
      setLogoByMode();
    }
    window.addEventListener('DOMContentLoaded', setLogoByMode);
    </script>
</body>
</html>