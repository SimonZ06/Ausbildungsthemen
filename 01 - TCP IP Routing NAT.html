<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>01 - TCP/IP, Routing, NAT</title>
    <link rel="icon" type="image/x-icon" href="Icon.ico">
    <style>
        body {
            background-color: #000000f4;
            color: #fff;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 1000px;
            margin: 40px auto;
            background: #181818;
            border-radius: 16px;
            box-shadow: 0 4px 24px rgb(167, 0, 0);
            padding: 32px 34px;
        }
        header {
            background: linear-gradient(90deg, #000000 0%, #4f0098 100%);
            color: #bcabd5;
            padding: 24px 0 16px 0;
            border-radius: 16px 16px 0 0;
            text-align: center;
            margin-bottom: 24px;
            text-shadow: 0 0 1px #000000, 0 0 2px #000000;
        }
        h1 {
            margin: 0;
            font-size: 2em;
            letter-spacing: 2px;
        }
        .section-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-top: 32px;
            margin-bottom: 12px;
            color: #a962ff;
            text-shadow: 0 0 1px #000000, 0 0 2px #000000;
        }
        p {
            margin-bottom: 16px;
            line-height: 1.6;
        }
        table td, table th {
            padding-top: 10px;
            padding-bottom: 10px;
            line-height: 1.25;
        }
        table td:first-child {
            padding-right: 32px;
        }
        table td:nth-child(2) {
            padding-right: 32px;
        }
        ul {
            margin-bottom: 24px;
        }
        li {
            margin-bottom: 8px;
        }
        a {
            color: #00ffcc;
            text-decoration: underline;
            font-weight: bold;
            transition: color 0.2s;
        }
        a:visited {
            color: #7b00ff;
        }
        a:hover {
            color: #ff0066;
        }
        .back-link {
            display: inline-block;
            margin-top: 24px;
            color: #a962ff;
            background: #1a1a1a;
            padding: 8px 16px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            transition: background 0.2s, color 0.2s;
            text-shadow: 0 0 1px #000000, 0 0 2px #000000;
        }
        .back-link:hover {
            background: #000000;
            color: #6e00e4;
        }
        @media (max-width: 800px) {
            .container {
                max-width: 98vw;
                padding: 12px 6vw;
            }
            header {
                font-size: 1em;
                padding: 16px 0 8px 0;
            }
        }
        .trennlinie {
            border: none;
            border-top: 2px solid #a962ffb7;
            margin: 24px 0;
            opacity: 0.5;
            border-radius: 2px;
        }
        ul, ul ul {
            list-style-type: disc;
        }
        ul li::marker {
            color: #fff;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>01 - TCP/IP, Routing, NAT (Einfach/Erweitert)</h1>
        </header>
        <div class="section-title">1. Theoretische Grundlagen</div>
        <h1>Das Default Gateway</h1>
        <p>Ein Default Gateway ist das Gerät in einem Netzwerk, das Datenpakete aus dem lokalen Netz in andere Netze weiterleitet. In den allermeisten Fällen übernimmt der Router diese Rolle. Man kann sich das Gateway als "Tür zur Außenwelt" vorstellen: wenn ein Computer ein Ziel ansprechen möchte, das nicht im eigenen Subnetz liegt, dann schickt er die Daten an das Standardgateway.</p>
        <p>Das Gateway entscheidet anhand seiner Routing-Tabelle, in welches andere Netz ein Paket weitergeleitet wird. Befindet sich das Ziel im gleichen Subnetz, erfolgt die Zustellung direkt (z. B. über ARP). Der Rückweg funktioniert genauso: Antworten von außerhalb kommen am Gateway an und werden an das richtige Gerät im Heimnetz zurückgeschickt.</p>
        <br>
        <b>Beispiel:</b>
        <ul>
            <li>PC: 192.168.1.100 möchte google.de erreichen.</li>
            <li>Ziel liegt nicht im eigenen Subnetz &#8594; Paket geht an Default Gateway (192.168.1.1).</li>
            <li>Router leitet es ins Internet.</li>
            <li>Antwort von Google kommt zurück &#8594; Router weiß, dass PC 192.168.1.100 der Absender war &#8594; Weiterleitung zurück.</li>
        </ul>
        <b>Wichtigkeit des Default Gateways:</b>
        <ul>
            <li>Ohne Gateway &#8594; keine Kommunikation außerhalb des LAN.</li>
            <li>Es übernimmt Routing-Entscheidungen für unbekannte Ziele.</li>
            <li>Oft ist es gleichzeitig ein Kontroll- und Sicherheitspunkt (z. B. Firewall im Router).</li>
        </ul>
        <hr class="trennlinie">
        <h1>NAT (Network Address Translation)</h1>
        <p>Da die Anzahl an IPv4-Adressen begrenzt ist, nutzt man NAT, um viele private IP-Adressen aus einem Heimnetz über eine einzige öffentliche IP-Adresse ins Internet zu bringen.</p>
        <p>Die Fritzbox setzt dazu PAT (Port Address Translation) ein. Dabei werden nicht nur die Adressen übersetzt, sondern auch Portnummern genutzt, um verschiedene Verbindungen auseinanderzuhalten.</p>
        <br>
        <b>Beispiel FritzBox:</b>
        <ul>
            <li>Laptop: 192.168.178.20 &#8594; Anfrage an Google.</li>
            <li>FritzBox ersetzt die Absender-IP durch ihre öffentliche Adresse, z. B. 93.123.45.67.
            <li>Sie merkt sich, dass die Anfrage von Laptop kam.</li>
            <li>Antwort von Google an 93.123.45.67 &#8594; FritzBox ordnet sie wieder 192.168.178.20 zu.</li>
        </ul>
        <b>Vorteile von NAT:</b>
        <ul>
            <li>Mehrere Geräte nutzen eine öffentliche IP.</li>
            <li>Sicherheit: Geräte sind von außen nicht direkt sichtbar (kein Ersatz für eine Firewall, aber erschwert Angriffe).</li>
            <li>Flexibilität durch Portfreigaben.</li>
        </ul>
        <b>Portfreigaben:</b>
        <ul>
            <li>Weiterleitung einzelner Ports auf ein Gerät im LAN.</li>
            <li>Beispiel: Minecraft-Server (Port 25565) &#8594; wird an PC 192.168.178.20 durchgereicht.</li>
        </ul>
        <b>Exposed Host:</b>
        <ul>
            <li>Alle Ports an ein Gerät weitergeleitet &#8594; unsicher, nur zu Testzwecken.</li>
        </ul>
        <b>IPv6:</b>
        <ul>
            <li>Jedes Gerät bekommt eine öffentliche Adresse.</li>
            <li>Kein NAT nötig &#8594; stattdessen übernimmt die FritzBox Firewallfunktionen.</li>
            <li>(Hinweis: NAT66 existiert, wird aber kaum eingesetzt und in FritzBoxen nicht verwendet.)</li>
        </ul>
        <hr class="trennlinie">
        <div class="section-title">2. Praktische Umsetzung</div>
        <h1>TCP/IP-Konfiguration unter Windows</h1>
        <p>Unter Windows lassen sich IP-Adressen automatisch (per DHCP) oder manuell konfigurieren.</p>
        <b>Automatisch beziehen (DHCP):</b>
        <ul>
            <li>Der Rechner fragt beim Router nach einer Adresse.</li>
            <li>Typischer Fall im Heimnetz.</li>
        </ul>
        <b>Manuell eintragen (statische IP):</b>
        <ul>
            <li>Nützlich bei Servern, VMs oder für Tests.</li>
            <li>Erforderliche Angaben:</li>
                <ul>
                    <li>IP-Adresse (z. B. 192.168.1.100)</li>
                    <li>Subnetzmaske (z. B. 255.255.255.0)</li>
                    <li>Standardgateway (meist Router, z. B. 192.168.1.1)</li>
                    <li>DNS-Server (z. B. 8.8.8.8 von Google oder 1.1.1.1 von Cloudflare)</li>
                </ul>
        </ul>
        <b>Wann verwendet man was?</b>
        <ul>
            <li>Heimnetz &#8594; DHCP.</li>
            <li>Server/VM &#8594; statische IP.</li>
            <li>Probleme mit Namensauflösung &#8594; DNS gezielt einstellen (besser zentral am Router/DHCP, statt auf jedem Client).</li>
        </ul>
        <hr class="trennlinie">
        <h1>Routing auf Windows-PC</h1>
        <p>Die Routen lassen sich mit <small style="font-family:'Courier New'">route print</small> anzeigen. Die Tabelle enthält alle bekannten Wege zu Netzwerken.</p>
        <ul>
            <li> <b>Wichtige Einträge:</b> </li>
                <ul>
                    <li>0.0.0.0 &#8594; Standardroute = Default Gateway.</li>
                    <li>Subnetze wie 192.168.1.0 &#8594; direkte Verbindung.</li>
                </ul>
            <li> <b>Routen hinzufügen:</b> </li>
        </ul>
        <small style="font-family:'Courier New'">&nbsp; &nbsp; cmd</small>
        <br>
        <small style="font-family:'Courier New'">&nbsp; &nbsp; route add 10.10.10.0 mask 255.255.255.0 192.168.1.1</small>
        <br>
        <br>
        <ul>
            <b><li>Routen löschen:</li></b>
        </ul>
        <small style="font-family:'Courier New'">&nbsp; &nbsp; cmd</small>
        <br>
        <small style="font-family:'Courier New'">&nbsp; &nbsp; route delete 10.10.10.0</small>
        <br>
        <br>
        <ul>
            <b><li>Standardgateway ändern</li></b>
        </ul>
        <small style="font-family:'Courier New'">&nbsp; &nbsp; cmd</small>
        <br>
        <small style="font-family:'Courier New'">&nbsp; &nbsp; route delete 0.0.0.0</small>
        <br>
        <small style="font-family:'Courier New'">&nbsp; &nbsp; route add 0.0.0.0 mask 0.0.0.0 192.168.2.1</small>
        <br>
        <br>
        <p>(Hinweis: Ohne <small style="font-family:'Courier New'">-p </small>sind diese Änderungen nur bis zum Neustart gültig. Dauerhaft → <small style="font-family:'Courier New'">route -p add ...)</small></p>
        <p>Achtung: falsche Routen = keine Internetverbindung.</p>
        <hr class="trennlinie">
        <div class="section-title">3. NAT-Einstellungen auf der FritzBox</div>
        <p>Die FritzBox erledigt NAT automatisch. Anpassungen sind nur indirekt möglich:</p>
        <ul>
            <li><b>Portfreigaben:</b> gezielte Weiterleitungen für bestimmte Dienste.</li>
            <li><b>Exposed Host:</b> Weiterleitung aller Ports an ein Gerät (unsicher).
            <li><b>IPv6:</b> entfällt, stattdessen Firewallregeln zur Steuerung.
            <li><b>NAT-Tabelle:</b> in einer FritzBox nicht sichtbar, nur indirekt über Tools (z. B. Wireshark oder Router-Diagnosen).
        </ul>
        <hr class="trennlinie">
        <div class="section-title">4. Debugging-Tools in Windows</div>
        <p>Zur Fehleranalyse in Netzwerken gibt es eine Reihe nützlicher Befehle:</p>
        <table style="width:100%; border-collapse:collapse;">
            <thead>
                <tr>
                    <th style="text-align:left;">Tool</th>
                    <th style="text-align:left;">Zweck</th>
                    <th style="text-align:left;">Beispiel</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><small style="font-family:'Courier New'">ipconfig</small></td>
                    <td>Zeigt aktuelle IP, Gateway, DNS</td>
                    <td><small style="font-family:'Courier New'">ipconfig /all</small></td>
                </tr>
                <tr>
                    <td><small style="font-family:'Courier New'">ping</small></td>
                    <td>Prüft Erreichbarkeit & Latenz</td>
                    <td><small style="font-family:'Courier New'">ping google.com</small></td>
                </tr>
                <tr>
                    <td><small style="font-family:'Courier New'">tracert</small></td>
                    <td>Zeigt den Weg der Pakete</td>
                    <td><small style="font-family:'Courier New'">tracert 8.8.8.8</small></td>
                </tr>
                <tr>
                    <td><small style="font-family:'Courier New'">nslookup</small></td>
                    <td>Testet DNS-Auflösung</td>
                    <td><small style="font-family:'Courier New'">nslookup google.com</small></td>
                </tr>
                <tr>
                    <td><small style="font-family:'Courier New'">netstat</small></td>
                    <td>Zeigt offene Ports & Verbindungen</td>
                    <td><small style="font-family:'Courier New'">netstat -ano</small></td>
                </tr>
                <tr>
                    <td><small style="font-family:'Courier New'">route</small></td>
                    <td>Zeigt/ändert Routingtabelle</td>
                    <td><small style="font-family:'Courier New'">route print</small></td>
                </tr>
                <tr>
                    <td><small style="font-family:'Courier New'">arp</small></td>
                    <td>Zeigt MAC ↔ IP-Zuordnungen</td>
                    <td><small style="font-family:'Courier New'">arp -a</small></td>
                </tr>
                <tr>
                    <td><small style="font-family:'Courier New'">pathping</small></td>
                    <td>Misst Latenz & Paketverluste pro Hop</td>
                    <td><small style="font-family:'Courier New'">pathping google.com</small></td>
                </tr>
                <tr>
                    <td><small style="font-family:'Courier New'">telnet</small></td>
                    <td>Testet Erreichbarkeit bestimmter Ports</td>
                    <td><small style="font-family:'Courier New'">telnet 192.168.178.1 80 (muss unter Windows 10/11 evtl. erst nachinstalliert werden)</small></td>
                </tr>
                <tr>
                    <td><small style="font-family:'Courier New'">netsh</small></td>
                    <td>Konfiguriert & repariert Netzwerk</td>
                    <td><small style="font-family:'Courier New'">netsh winsock reset</small></td>
                </tr>
            </tbody>
        </table>
        <br>
        <b>Praxis-Tipp:</b>
        <ul>
            <li>Beginne bei Problemen immer mit <small style="font-family:'Courier New'">ipconfig</small> und <small style="font-family:'Courier New'">ping</small>.</li>
            <li>Prüfe mit <small style="font-family:'Courier New'">tracert</small>, wo die Verbindung abbricht.</li>
            <li>Nutze <small style="font-family:'Courier New'">nslookup</small>, wenn Websiten nicht laden, aber IPs erreichbar sind.</li>
            <li>Kontrolliere mit <small style="font-family:'Courier New'">netstat</small>, ob Ports blockiert oder belegt sind.</li>
        </ul>
        <hr class="trennlinie">
        <b>Zusammenfassung</b>
        <p>Das <b>Default Gateway</b> ist die Schnittstelle zwischen lokalem Netz und Internet. NAT mit PAT auf der FritzBox sorgt dafür, dass mehrere Geräte gleichzeitig über eine öffentliche IP-Adresse online sein können. Anpassungen an NAT machst du vor allem über Portfreigaben. Unter Windows kannst du IPs statisch oder per DHCP konfigurieren, die Routingtabelle einsehen und mit zahlreichen Tools Verbindungsprobleme untersuchen.</p>
        <br>
        <hr class="trennlinie">
        <a href="Ausbildungsthemen.html" class="back-link">&larr; Zurück zum Inhaltsverzeichnis</a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="02 - Switching VLAN PoE.html" target="blank" class="back-link">02 - Switching / VLAN / PoE &#8594;</a>
    </div>
</body>
</html>